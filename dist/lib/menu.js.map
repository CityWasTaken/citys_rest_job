{"version":3,"file":"menu.js","sourceRoot":"","sources":["../../src/lib/menu.ts"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,UAAU,CAAC;AAChC,OAAO,eAAe,CAAC;AAEvB,OAAO,EAAE,WAAW,EAAE,eAAe,EAAE,cAAc,EAAE,MAAM,YAAY,CAAC;AAE1E,IAAI,WAAW,GAAG,KAAK,CAAC;AAExB,MAAM,CAAC,KAAK,UAAU,WAAW;IAC7B,MAAM,UAAU,GAAG,MAAM,WAAW,EAAE,CAAC;IACvC,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QAC7D;YACI,OAAO,EAAE,wBAAwB;YACjC,IAAI,EAAE,SAAS;YACf,IAAI,EAAE,MAAM;YACZ,OAAO,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;gBAChC,OAAO;oBACH,IAAI,EAAE,GAAG,OAAO,CAAC,KAAK,KAAK,OAAO,CAAC,eAAe,GAAG;oBACrD,KAAK,EAAE,OAAO,CAAC,EAAE;iBACpB,CAAA;YACL,CAAC,CAAC;SACL;QACD;YACI,OAAO,EAAE,sBAAsB;YAC/B,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,OAAO;SAChB;QACD;YACI,OAAO,EAAE,qBAAqB;YAC9B,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,OAAO;SAChB;KACJ,CAAC,CAAC;IAEH,MAAM,cAAc,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;IACrD,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;IAC5C,MAAM,gBAAgB,EAAE,CAAC;AAC7B,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,gBAAgB;IAClC,MAAM,iBAAiB,GAAG,MAAM,eAAe,EAAE,CAAC;IAClD,OAAO,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AACrC,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,QAAQ;IAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,wEAAwE,CAAC,CAAC;QACtF,WAAW,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,MAAM,EAAE,cAAc,EAAE,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC;QAC7C,OAAO,EAAE,yBAAyB;QAClC,IAAI,EAAE,gBAAgB;QACtB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE;YACL;gBACI,IAAI,EAAE,oBAAoB;gBAC1B,KAAK,EAAE,gBAAgB;aAC1B;YACD;gBACI,IAAI,EAAE,cAAc;gBACpB,KAAK,EAAE,WAAW;aACrB;YACD;gBACI,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,CAAC;aACX;SACJ;KACJ,CAAC,CAAC;IAEH,IAAI,cAAc,KAAK,CAAC,EAAE,CAAC;QACvB,MAAM,cAAc,EAAE,CAAC;QACvB,QAAQ,EAAE,CAAC;IACf,CAAC;SAAM,CAAC;QACJ,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC5B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC;AACL,CAAC","sourcesContent":["import inquirer from 'inquirer';\nimport 'console.table';\n\nimport { getAllRoles, getAllEmployees, createEmployee } from './query.js';\n\nlet showMessage = false;\n\nexport async function addEmployee() {\n    const rolesArray = await getAllRoles();\n    const { role_id, first_name, last_name } = await inquirer.prompt([\n        {\n            message: 'Please select the role',\n            name: 'role_id',\n            type: 'list',\n            choices: rolesArray.map((roleObj) => {\n                return {\n                    name: `${roleObj.title} (${roleObj.department_name})`,\n                    value: roleObj.id\n                }\n            })\n        },\n        {\n            message: 'Enter the first name',\n            name: 'first_name',\n            type: 'input'\n        },\n        {\n            message: 'Enter the last name',\n            name: 'last_name',\n            type: 'input'\n        }\n    ]);\n\n    await createEmployee(role_id, first_name, last_name);\n    console.log('Employee added successfully!');\n    await showAllEmployees();\n}\n\nexport async function showAllEmployees() {\n    const employeeRowsArray = await getAllEmployees();\n    console.table(employeeRowsArray);\n}\n\nexport async function showMenu() {\n    if (!showMessage) {\n        console.log('\\n -*-*-*-*- Welcome to City\\'s Employee Database Tracker! -*-*-*-*-\\n');\n        showMessage = true;\n    }\n\n    const { optionFunction } = await inquirer.prompt({\n        message: 'Please select an option',\n        name: 'optionFunction',\n        type: 'list',\n        choices: [\n            {\n                name: 'Show All Employees',\n                value: showAllEmployees\n            },\n            {\n                name: 'Add Employee',\n                value: addEmployee\n            },\n            {\n                name: 'Quit',\n                value: 0\n            }\n        ]\n    });\n\n    if (optionFunction !== 0) {\n        await optionFunction();\n        showMenu();\n    } else {\n        console.log('As you were!');\n        process.exit(0); \n    }\n}"]}